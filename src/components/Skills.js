import React, { useState } from 'react';
import '../styles/Skills.css';

const Skills = () => {
    const [activeCategory, setActiveCategory] = useState('analisis-datos');

    const skillsData = {
        'analisis-datos': {
            title: "An√°lisis de Datos",
            icon: "üìä",
            skills: [
                {
                    name: "Python",
                    tools: "Jupyter Notebook, Google Colab, VS Code",
                    logo: "/Image/python.png",
                    icon: "üêç"
                },
                {
                    name: "R",
                    tools: "RStudio",
                    logo: "/Image/R.png",
                    icon: "üìà"
                },
                {
                    name: "SQL",
                    tools: "MySQL, MongoDB",
                    logo: "/Image/SQL.png",
                    icon: "üóÑÔ∏è"
                },
                {
                    name: "Power Query",
                    tools: "ETL y transformaci√≥n de datos",
                    logo: "/Image/Power Query.png",
                    icon: "üîç"
                },
                {
                    name: "Power BI",
                    tools: "Dashboards y visualizaciones",
                    logo: "/Image/PowerBI.png",
                    icon: "üìâ"
                },
                {
                    name: "Excel",
                    tools: "Avanzado, f√≥rmulas, tablas din√°micas, VBA",
                    logo: "/Image/Excel.png",
                    icon: "üìë"
                }
            ]
        },
        'automatizacion': {
            title: "Automatizaci√≥n",
            icon: "‚ö°",
            skills: [
                {
                    name: "Automation Anywhere 360",
                    tools: "RPA y automatizaci√≥n de procesos",
                    logo: "/Image/AutoAny.png",
                    icon: "ü§ñ"
                },
                {
                    name: "Power Apps",
                    tools: "Aplicaciones low-code",
                    logo: "/Image/Power Apps.png",
                    icon: "üì±"
                },
                {
                    name: "Power Automate",
                    tools: "Flujos de trabajo automatizados",
                    logo: "/Image/power Automate.png",
                    icon: "üîÑ"
                }
            ]
        },
        'desarrollo-software': {
            title: "Desarrollo de Software",
            icon: "üíª",
            skills: [
                {
                    name: "React",
                    tools: "Frontend development",
                    logo: "/Image/React.png",
                    icon: "‚öõÔ∏è"
                },
                {
                    name: "HTML",
                    tools: "Estructura web",
                    logo: "/Image/HTML.png",
                    icon: "üåê"
                },
                {
                    name: "JavaScript",
                    tools: "Programaci√≥n frontend y backend",
                    logo: "/Image/javascript.png",
                    icon: "üü®"
                },
                {
                    name: "Node.js",
                    tools: "Runtime de JavaScript",
                    logo: "/Image/Node.js.png",
                    icon: "üü¢"
                },
                {
                    name: "Express",
                    tools: "Framework backend",
                    logo: "/Image/express.png",
                    icon: "üöÇ"
                }
            ]
        },
        'modelado-procesos': {
            title: "Modelado de Procesos y Prototipado",
            icon: "üìê",
            skills: [
                {
                    name: "Bizagi",
                    tools: "Diagramaci√≥n BPMN",
                    logo: "/Image/bizagi-modeler.png",
                    icon: "üìã"
                },
                {
                    name: "Draw.io",
                    tools: "Diagramas t√©cnicos y arquitecturas",
                    logo: "/Image/DRAW.png",
                    icon: "üé®"
                },
                {
                    name: "Daruma",
                    tools: "Gesti√≥n documental y procesos",
                    logo: "/Image/daruma.png",
                    icon: "üóÇÔ∏è"
                },
                {
                    name: "Figma",
                    tools: "Prototipado UX/UI",
                    logo: "/Image/figma.png",
                    icon: "üéØ"
                }
            ]
        },
        'mejoramiento': {
            title: "Herramientas de Mejoramiento",
            icon: "üõ†Ô∏è",
            skills: [
                {
                    name: "5'S",
                    tools: "Metodolog√≠a de orden y limpieza",
                    icon: "‚≠ê"
                },
                {
                    name: "Kaizen",
                    tools: "Mejora continua",
                    icon: "üìà"
                },
                {
                    name: "Poka-Yoke",
                    tools: "A prueba de errores",
                    icon: "‚úÖ"
                },
                {
                    name: "Six Sigma",
                    tools: "Control de calidad",
                    icon: "œÉ"
                },
                {
                    name: "An√°lisis FODA",
                    tools: "An√°lisis estrat√©gico",
                    icon: "üéØ"
                },
                {
                    name: "Diagrama de Ishikawa",
                    tools: "An√°lisis causa-efecto",
                    icon: "üêü"
                },
                {
                    name: "Ciclo PHVA",
                    tools: "Planificar-Hacer-Verificar-Actuar",
                    icon: "üîÑ"
                },
                {
                    name: "An√°lisis de Pareto",
                    tools: "Principio 80/20",
                    icon: "üìä"
                }
            ]
        },
        'pruebas': {
            title: "Pruebas Funcionales",
            icon: "üß™",
            skills: [
                {
                    name: "Postman",
                    tools: "Testing de APIs",
                    logo: "/Image/postman.png",
                    icon: "üì¨"
                },
                {
                    name: "Cypress",
                    tools: "Testing end-to-end",
                    logo: "/Image/Cypress.png",
                    icon: "‚ö°"
                }
            ]
        },
        'habilidades-blandas': {
            title: "Habilidades Blandas",
            icon: "üåü",
            skills: [
                {
                    name: "Resoluci√≥n de Problemas",
                    tools: "An√°lisis y soluci√≥n de desaf√≠os complejos",
                    icon: "üí°"
                },
                {
                    name: "Trabajo en Equipo",
                    tools: "Colaboraci√≥n efectiva en grupos multidisciplinarios",
                    icon: "ü§ù"
                },
                {
                    name: "Comunicaci√≥n Efectiva",
                    tools: "Comunicaci√≥n clara y asertiva",
                    icon: "üí¨"
                },
                {
                    name: "Adaptabilidad",
                    tools: "Flexibilidad ante cambios y nuevos entornos",
                    icon: "üîÑ"
                },
                {
                    name: "Gesti√≥n del Tiempo",
                    tools: "Organizaci√≥n y priorizaci√≥n de tareas",
                    icon: "‚è∞"
                },
                {
                    name: "Liderazgo",
                    tools: "Direcci√≥n y motivaci√≥n de equipos",
                    icon: "üëë"
                },
                {
                    name: "Pensamiento Cr√≠tico",
                    tools: "An√°lisis objetivo y toma de decisiones",
                    icon: "üéØ"
                },
                {
                    name: "Creatividad",
                    tools: "Innovaci√≥n y pensamiento fuera de lo convencional",
                    icon: "‚ú®"
                }
            ]
        },

    };

    // Funci√≥n segura para manejar errores de im√°genes
    const handleImageError = (e, skill) => {
        e.target.style.display = 'none';
        // Mostrar el fallback de √≠cono
        const fallbackElement = e.target.parentElement.querySelector('.skill-icon-fallback');
        if (fallbackElement) {
            fallbackElement.style.display = 'flex';
        }
    };

    return (
        <section id="habilidades" className="skills">
            <div className="skills-container">
                {/* Header Section */}
                <div className="skills-header">
                    <div className="section-divider">
                        <div className="divider-line"></div>
                        <h2 className="section-title">Mis Habilidades</h2>
                        <div className="divider-line"></div>
                    </div>
                    <p className="section-subtitle">
                        Conjunto de tecnolog√≠as, herramientas y metodolog√≠as que aplico en cada proyecto
                    </p>
                </div>

                <div className="skills-content">
                    {/* Category Navigation */}
                    <div className="skills-categories">
                        {Object.entries(skillsData).map(([key, category]) => (
                            <button
                                key={key}
                                className={`category-btn ${activeCategory === key ? 'active' : ''}`}
                                onClick={() => setActiveCategory(key)}
                            >
                                <span className="category-icon">{category.icon}</span>
                                <span className="category-text">{category.title}</span>
                            </button>
                        ))}
                    </div>

                    {/* Skills Grid */}
                    <div className="skills-grid-container">
                        <div className="skills-category-header">
                            <div className="category-title-icon">
                                <span className="header-icon">{skillsData[activeCategory].icon}</span>
                                <h3>{skillsData[activeCategory].title}</h3>
                            </div>
                        </div>

                        <div className="skills-grid">
                            {skillsData[activeCategory].skills.map((skill, index) => (
                                <div key={index} className="skill-card">
                                    <div className="skill-header">
                                        <div className="skill-logo-container">
                                            {skill.logo ? (
                                                <>
                                                    <img
                                                        src={skill.logo}
                                                        alt={skill.name}
                                                        className="skill-logo"
                                                        onError={(e) => handleImageError(e, skill)}
                                                    />
                                                    <div
                                                        className="skill-icon-fallback"
                                                        style={{ display: 'none' }}
                                                    >
                                                        {skill.icon}
                                                    </div>
                                                </>
                                            ) : (
                                                <div className="skill-icon-fallback">
                                                    {skill.icon}
                                                </div>
                                            )}
                                        </div>
                                        <div className="skill-info">
                                            <h4 className="skill-name">{skill.name}</h4>
                                            <p className="skill-tools">{skill.tools}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Skills Summary */}
                    <div className="skills-summary">
                        <div className="summary-card">
                            <div className="summary-icon">üöÄ</div>
                            <div className="summary-content">
                                <h4>Enfoque Integral</h4>
                                <p>
                                    Combino habilidades t√©cnicas con metodolog√≠as de mejora continua
                                    para entregar soluciones completas y eficientes.
                                </p>
                            </div>
                        </div>
                        <div className="summary-card">
                            <div className="summary-icon">üåü</div>
                            <div className="summary-content">
                                <h4>Desarrollo Profesional</h4>
                                <p>
                                    Desarrollo constante de habilidades t√©cnicas y blandas para
                                    enfrentar nuevos desaf√≠os y crecer profesionalmente.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    );
};

export default Skills;